<!-- public/index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Todo List</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

    <h1>Todo List</h1>


    <div id="todo-container">

    </div>


    <script>
        $(document).ready(function() {

            function fetchTasks() {
                $.ajax({
                    url: 'http://localhost:3000/api/todos',
                    method: 'GET',
                    success: function(data) {
                        displayTasks(data);
                    },
                    error: function(err) {
                        console.error("Error fetching tasks:", err);
                    }
                });
            }

            function displayTasks(tasks) {
                const container = $('#todo-container');
                container.empty(); 

                const list = $('<ul></ul>');

                tasks.forEach(function(task) {
                    const listItem = $('<li></li>');
                    listItem.append(`${task.title}<br>`);
                    list.append(listItem);
                });

                container.append(list);
            }

            fetchTasks();
        });
    </script>

</body>
</html>
